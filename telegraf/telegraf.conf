# Telegraf Configuration for Docker Container Disk I/O Only

[agent]
  interval = "10s"
  round_interval = true
  metric_batch_size = 1000
  metric_buffer_limit = 10000
  collection_jitter = "0s"
  flush_interval = "10s"
  flush_jitter = "0s"
  precision = "0s"
  hostname = ""
  omit_hostname = false

# Prometheus output
[[outputs.prometheus_client]]
  listen = ":9273"
  path = "/metrics"
  metric_version = 2
  collectors_exclude = ["gocollector", "process"]

# Docker input plugin - disk I/O only
[[inputs.docker]]
  endpoint = "unix:///var/run/docker.sock"
  
  # Container filters
  container_state_include = ["running"]
  
  # Timeout for docker commands
  timeout = "5s"
  
  # Only collect block I/O metrics
  perdevice_include = ["blkio"]
  total_include = ["blkio"]
  
  # Include useful Docker labels as tags
  docker_label_include = ["com.docker.compose.service", "com.docker.compose.project"]